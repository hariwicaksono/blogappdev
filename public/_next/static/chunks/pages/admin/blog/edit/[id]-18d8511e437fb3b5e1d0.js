_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{XLWx:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog/edit/[id]",function(){return a("sLFB")}])},rg98:function(e,t,a){"use strict";function n(e,t,a,n,i,r,c){try{var s=e[r](c),o=s.value}catch(l){return void a(l)}s.done?t(o):Promise.resolve(o).then(n,i)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(i,r){var c=e.apply(t,a);function s(e){n(c,i,r,s,o,"next",e)}function o(e){n(c,i,r,s,o,"throw",e)}s(void 0)}))}}a.d(t,"a",(function(){return i}))},sLFB:function(e,t,a){"use strict";a.r(t);var n=a("vJKn"),i=a.n(n),r=a("rg98"),c=a("nKUr"),s=a("H+61"),o=a("UlJF"),l=a("+Css"),d=a("7LId"),u=a("VIvw"),j=a("iHvq"),b=a("cpVT"),m=a("q1tI"),h=a("g4pe"),f=a.n(h),p=a("YFqc"),x=a.n(p),O=a("CafY"),y=a("S7XH"),g=a("d0xl"),v=a("7vrA"),w=a("XWsC"),C=a("6xyR"),B=a("QojX"),F=a("3Z9Z"),I=a("JI6e"),k=a("cWnB"),N=a("T/rR"),_=a("ma3e"),q=a("FGyW"),L=a("sZxp"),E=a.n(L),S=a("KYPV"),G=a("UGp+"),R=a("UYf5");function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(j.a)(e);if(t){var i=Object(j.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var T=G.b({title:G.c().required(),date:G.c().required(),time:G.c().required(),summary:G.c().required(),body:G.c().required()}),J=function(e){Object(d.a)(a,e);var t=P(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),Object(b.a)(Object(l.a)(n),"componentDidMount",(function(){var e=n.props.id;y.a.GetBlogId(e).then((function(e){console.log(e),setTimeout((function(){return n.setState({id:e.data[0].id,title:e.data[0].title,summary:e.data[0].summary,body:e.data[0].body,image:e.data[0].post_image,date:e.data[0].date,time:e.data[0].time,loading:!1})}),100)}))})),n.state={id:"",title:"",body:"",image:"",date:"",time:"",url:Object(g.a)(),loading:!0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(c.jsxs)(O.a,{admin:!0,children:[Object(c.jsx)(f.a,{children:Object(c.jsxs)("title",{children:["Edit Blog - ",O.c]})}),Object(c.jsx)(v.a,{fluid:!0,children:this.state.loading?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(E.a,{count:4,height:40,className:"mb-1"}),Object(c.jsx)(E.a,{width:100,height:40})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(w.a,{className:"my-3",children:[Object(c.jsx)(x.a,{href:"/admin",passHref:!0,children:Object(c.jsx)(w.a.Item,{children:"Home"})}),Object(c.jsx)(x.a,{href:"/admin/blog",passHref:!0,children:Object(c.jsx)(w.a.Item,{children:"Blog"})}),Object(c.jsx)(w.a.Item,{active:!0,children:"Edit"})]}),Object(c.jsxs)(C.a,{className:"mb-2",body:!0,children:[Object(c.jsx)("h5",{className:"mb-3",style:{fontWeight:"400"},children:"Edit Blog"}),Object(c.jsx)(S.a,{initialValues:{id:this.state.id,title:this.state.title,summary:this.state.summary,body:this.state.body,date:this.state.date,time:this.state.time},onSubmit:function(e,t){y.a.PutBlog(e).then((function(e){1===e.status&&q.b.success("Data berhasil disimpan",{position:"top-center"})})).catch((function(e){console.log(e.response),q.b.warn("Tidak ada data yang diubah",{position:"top-center"})})),setTimeout((function(){t.setSubmitting(!1)}),1e3)},validationSchema:T,enableReinitialize:!0,children:function(t){var a=t.handleSubmit,n=t.handleChange,i=t.handleBlur,r=(t.setFieldValue,t.values),s=t.touched,o=t.errors,l=t.isSubmitting;return Object(c.jsxs)(B.a,{noValidate:!0,onSubmit:a,children:[Object(c.jsxs)(B.a.Group,{children:[Object(c.jsx)(B.a.Label,{children:"Gambar"}),Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:e.state.url+e.state.image,width:"200",alt:""})]}),Object(c.jsxs)(B.a.Group,{children:[Object(c.jsx)(B.a.Label,{children:"Judul Blog"}),Object(c.jsx)(B.a.Control,{name:"title",placeholder:"",className:"form-control",onChange:n,onBlur:i,value:r.title,isInvalid:!!o.title&&s.title}),o.title&&s.title&&Object(c.jsx)(B.a.Control.Feedback,{type:"invalid",children:o.title})]}),Object(c.jsx)(B.a.Group,{children:Object(c.jsxs)(F.a,{children:[Object(c.jsxs)(I.a,{children:[Object(c.jsx)(B.a.Label,{children:"Tanggal"}),Object(c.jsx)(B.a.Control,{type:"date",name:"date",placeholder:"",className:"form-control",onChange:n,onBlur:i,value:r.date,isInvalid:!!o.date&&s.date}),o.date&&s.date&&Object(c.jsx)(B.a.Control.Feedback,{type:"invalid",children:o.date})]}),Object(c.jsxs)(I.a,{children:[Object(c.jsx)(B.a.Label,{children:"Jam"}),Object(c.jsx)(B.a.Control,{type:"time",name:"time",placeholder:"",className:"form-control",onChange:n,onBlur:i,value:r.time,isInvalid:!!o.time&&s.time}),o.time&&s.time&&Object(c.jsx)(B.a.Control.Feedback,{type:"invalid",children:o.time})]})]})}),Object(c.jsxs)(B.a.Group,{children:[Object(c.jsx)(B.a.Label,{children:"Ringkasan"}),Object(c.jsx)(R.a,{apiKey:"vffx7rg47lbz69xfs80qajyt04jjsxtihahl5gp1rsek0vnt",init:{height:150,menubar:!1},onEditorChange:n,id:"summary",rows:"2",name:"summary",placeholder:"",className:"form-control",onChange:n,onBlur:i,value:r.summary,isInvalid:!!o.summary&&s.summary}),o.summary&&s.summary&&Object(c.jsx)(B.a.Control.Feedback,{type:"invalid",children:o.summary})]}),Object(c.jsxs)(B.a.Group,{children:[Object(c.jsx)(B.a.Label,{children:"Isi Blog"}),Object(c.jsx)(R.a,{apiKey:"vffx7rg47lbz69xfs80qajyt04jjsxtihahl5gp1rsek0vnt",init:{height:250,menubar:!1},onEditorChange:n,id:"body",rows:"4",name:"body",placeholder:"",className:"form-control",onChange:n,onBlur:i,value:r.body,isInvalid:!!o.body&&s.body}),o.body&&s.body&&Object(c.jsx)(B.a.Control.Feedback,{type:"invalid",children:o.body})]}),Object(c.jsx)(k.a,{variant:"primary",type:"submit",disabled:l,children:l?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Memuat..."]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_.h,{})," Simpan"]})})]})}})]})]})})]})}}],[{key:"getInitialProps",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=a.id,e.abrupt("return",{id:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(m.Component);t.default=J}},[["XLWx",1,2,4,0,3,5,6,11]]]);